<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Mocha Test Runner</title>

        <link rel="stylesheet" href="node_modules/mocha/mocha.css">

        <style>
            #canvas { display: none; }
        </style>

        <script src="node_modules/requirejs/require.js"></script>

        <script>
            require.config({
                paths: {
                    specs: 'test/specs',
                    utils: 'test/utils'
                }
            });

            require([
                'node_modules/chai/chai',
                'node_modules/mocha/mocha',
                'utils/waitfor',
                'lib/phaser/build/phaser'
            ], function(chai) {
                mocha.setup('bdd');

                expect = chai.expect;

                require([
                    'lib/game/game',
                    'specs/GameSpec'
                ], function() {
                    if(window.mochaPhantomJS) {
                        mochaPhantomJS.run();
                    } else {
                        mocha.run();
                    }
                });
            });
        </script>
    </head>

    <body>
        <div id="mocha"></div>
        <canvas id="canvas"></canvas>
    </body>
</html>
