<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <base href="../">
        <title>Mocha Test Runner</title>

        <link rel="stylesheet" href="node_modules/mocha/mocha.css">

        <style>
            #canvas { display: none; }
        </style>

        <script src="node_modules/requirejs/require.js"></script>

        <script>
            require.config({
                paths: {
                    chai: 'node_modules/chai/chai',
                    mocha: 'node_modules/mocha/mocha',
                    spec: 'test/spec/'
                }
            });

            require([
                'chai', 'mocha',
                'test/utils/waitfor',
                'lib/phaser/build/phaser'
            ], function(chai) {
                mocha.setup('bdd');

                expect = chai.expect;

                require([
                    'lib/game/game'
                ], function() {
                    if(window.mochaPhantomJS) {
                        mochaPhantomJS.run();
                    } else {
                        mocha.run();
                    }
                });
            });
        </script>
    </head>

    <body>
        <div id="mocha"></div>
        <canvas id="canvas"></canvas>
    </body>
</html>
